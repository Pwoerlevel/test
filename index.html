<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>بوت الاختبارات التلجرامي</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            background-color: #0e1621;
            color: #e1e1e1;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
            margin: 0;
        }

        .header {
            background-color: #17212b;
            padding: 1rem;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #0e1621;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 100;
        }

        .header-back {
            color: #6bb1f1;
            font-size: 1.5rem;
            margin-left: 1rem;
            cursor: pointer;
        }

        .header-title {
            font-size: 1.125rem;
            font-weight: 500;
            flex-grow: 1;
        }

        .chat-container {
            margin-top: 3.5rem;
            margin-bottom: 3rem;
            /* padding: 0.5rem; */
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            height: calc(100vh - 3.5rem - 4rem);
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .message {
            max-width: 90%;
            margin-bottom: 1rem;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            position: relative;
            animation: fadeIn 0.3s ease-out;
            word-wrap: break-word;
        }

        .bot-message {
            align-self: flex-start;
            background-color: #182533;
            border-top-left-radius: 0;
            color: #e1e1e1;
            margin-right: 1rem;
        }

        .user-message {
            align-self: flex-end;
            background-color: #2b5278;
            border-top-right-radius: 0;
            color: white;
            margin-left: 1rem;
        }

        .quiz-question {
            background-color: #182533;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
            border-top-left-radius: 0;
            animation: slideIn 0.3s ease-out;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .quiz-option {
            background-color: #2b5278;
            color: white;
            border: none;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            cursor: pointer;
            text-align: right;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
            font-size: 1rem;
        }

        .quiz-option:hover {
            background-color: #3a6a97;
        }

        .quiz-option:active {
            transform: scale(0.98);
        }

        .quiz-option.correct {
            background-color: #4CAF50;
            animation: correctAnswer 0.5s ease-out;
        }

        .quiz-option.correct::after {
            content: '✓';
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.125rem;
        }

        .quiz-option.wrong {
            background-color: #f44336;
            animation: vibrate 0.3s ease-out;
        }

        .quiz-option.wrong::after {
            content: '✗';
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.125rem;
        }

        .quiz-progress {
            height: 0.5rem;
            background-color: #1e2c3a;
            margin-bottom: 1rem;
            border-radius: 0.2rem;
            overflow: hidden;
            position: fixed;
            bottom: 4rem;
            left: 0;
            right: 0;
            bottom: -15px;
            width: 100%;
        }

        .quiz-progress-bar {
            height: 100%;
            background-color: #6bb1f1;
            width: 0%;
            transition: width 0.3s ease-out;
        }

        .quiz-counter {
            position: fixed;
            bottom: 11px;
    left: 50%;
    transform: translate(-80%, 0);
            background-color: #182533;
            color: #e1e1e1;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            z-index: 10;
        }

        .start-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            padding: 1rem;
            text-align: center;
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
        }

        .start-title {
            font-size: 1.5rem;
            margin-bottom: 1.25rem;
            color: #6bb1f1;
        }

        .start-description {
            margin-bottom: 1.5rem;
            color: #a8b5c1;
            font-size: 1rem;
        }

        .start-button {
            background-color: #6bb1f1;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            width: 100%;
            max-width: 300px;
        }

        .start-button:hover {
            background-color: #5a9de0;
        }

        .result-container {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            padding: 1rem;
            text-align: center;
            animation: fadeIn 0.5s ease-out;
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
        }

        .result-emoji {
            font-size: 3.5rem;
            margin-bottom: 1.25rem;
        }

        .result-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #6bb1f1;
        }

        .result-score {
            font-size: 1.125rem;
            margin-bottom: 1.5rem;
            color: #a8b5c1;
        }

        .result-button {
            background-color: #6bb1f1;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 0.5rem;
            width: 100%;
            max-width: 300px;
        }

        .result-button:hover {
            background-color: #5a9de0;
        }

        .typing-indicator {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .typing-indicator.visible {
            opacity: 1;
        }

        .typing-dot {
            width: 0.5rem;
            height: 0.5rem;
            background-color: #6bb1f1;
            border-radius: 50%;
            margin-right: 0.25rem;
            animation: typingAnimation 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) {
            animation-delay: 0s;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        .detailed-result-container {
            display: none;
            flex-direction: column;
            padding: 0.5rem;
            text-align: right;
            margin-top: 3.5rem;
            margin-bottom: 4rem;
            overflow-y: auto;
            height: calc(100vh - 3.5rem - 4rem);
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .filter-buttons {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .filter-button {
            background-color: #2b5278;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s;
            min-width: 100px;
        }

        .filter-button.active {
            background-color: #6bb1f1;
        }

        .filter-button:hover {
            background-color: #3a6a97;
        }

        .detailed-results-summary {
            font-size: 1.125rem;
            color: #a8b5c1;
            margin-bottom: 1rem;
            text-align: center;
        }

        .detailed-result-item {
            background-color: #182533;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
            position: relative;
        }

        .detailed-result-item.correct .answer-status::after {
            content: '✓';
            color: #4CAF50;
            font-size: 1.125rem;
            position: absolute;
            left: 1rem;
            top: 1rem;
        }

        .detailed-result-item.wrong .answer-status::after {
            content: '✗';
            color: #f44336;
            font-size: 1.125rem;
            position: absolute;
            left: 1rem;
            top: 1rem;
        }

        .detailed-result-item .question-text {
            font-size: 1rem;
            margin-bottom: 0.5rem;
            color: #e1e1e1;
        }

        .detailed-result-item .user-answer {
            font-size: 0.875rem;
            color: #a8b5c1;
            margin-bottom: 0.25rem;
        }

        .detailed-result-item .correct-answer {
            font-size: 0.875rem;
            color: #4CAF50;
        }

        .detailed-result-item .explanation {
            font-size: 0.875rem;
            color: #a8b5c1;
            margin-top: 0.5rem;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes correctAnswer {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(76, 175, 80, 0); }
            50% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(76, 175, 80, 0.3); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(76, 175, 80, 0); }
        }

        @keyframes vibrate {
            0% { transform: translateX(0); }
            20% { transform: translateX(-4px); }
            40% { transform: translateX(4px); }
            60% { transform: translateX(-4px); }
            80% { transform: translateX(4px); }
            100% { transform: translateX(0); }
        }

        @keyframes typingAnimation {
            0%, 60%, 100% { transform: translateY(0); opacity: 0.6; }
            30% { transform: translateY(-5px); opacity: 1; }
        }

        .confetti {
            position: fixed;
            width: 0.625rem;
            height: 0.625rem;
            background-color: #f00;
            opacity: 0;
            z-index: 999;
            animation: confettiFall 3s ease-in-out forwards;
        }

        @keyframes confettiFall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .chat-container::-webkit-scrollbar,
        .detailed-result-container::-webkit-scrollbar {
            width: 0.3rem;
        }

        .chat-container::-webkit-scrollbar-thumb,
        .detailed-result-container::-webkit-scrollbar-thumb {
            background: #6bb1f1;
            border-radius: 0.3rem;
        }

        .chat-container::-webkit-scrollbar-track,
        .detailed-result-container::-webkit-scrollbar-track {
            background: transparent;
        }

        @media (min-width: 768px) {
            .header {
                padding: 1rem 2rem;
            }

            .chat-container, .start-container, .result-container, .detailed-result-container {
                padding: 1rem 2rem;
            }

            .start-button, .result-button {
                width: auto;
                min-width: 200px;
            }

            .filter-button {
                padding: 0.75rem 1.5rem;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-back">←</div>
        <div class="header-title">بوت الاختبارات</div>
    </div>

    <div class="start-container" id="startContainer">
        <div class="start-title">اختبار المعلومات العامة</div>
        <div class="start-description">اختبر معلوماتك في مختلف المجالات مع بوت الاختبارات التلجرامي</div>
        <button class="start-button" id="startButton">بدء الاختبار</button>
    </div>

    <div class="chat-container" id="chatContainer" style="display: none;">
        <div id="messagesContainer"></div>
    </div>

    <div class="quiz-progress">
        <div class="quiz-progress-bar" id="quizProgressBar"></div>
    </div>

    <div class="quiz-counter" id="quizCounter"></div>

    <div class="result-container" id="resultContainer" style="display: none;">
        <div class="result-emoji" id="resultEmoji">🎉</div>
        <div class="result-title" id="resultTitle">أحسنت!</div>
        <div class="result-score" id="resultScore">لقد حصلت على 0 من 0</div>
        <button class="result-button" id="viewDetailedResultsButton">عرض النتائج التفصيلية</button>
        <button class="result-button" id="restartButton">إعادة الاختبار</button>
    </div>

    <div class="detailed-result-container" id="detailedResultContainer" style="display: none;">
        <div class="filter-buttons">
            <button class="filter-button active" data-filter="all">الكل</button>
            <button class="filter-button" data-filter="correct">الصحيحة فقط</button>
            <button class="filter-button" data-filter="wrong">الخاطئة فقط</button>
        </div>
        <div class="detailed-results-summary" id="detailedResultsSummary"></div>
        <div class="detailed-results" id="detailedResults"></div>
        <button class="result-button" id="backToResultsButton">العودة إلى النتائج</button>
    </div>

    <audio style="display: none;" src="./t1.mp3"></audio>
    <script>
const quizData = [
    {
        question: "شركة تقدم خدمات صيانة للأجهزة الإلكترونية تواجه شكاوى متكررة من العملاء بسبب التأخير في الاستجابة لطلبات الصيانة، لأن المعلومات حول العملاء وسجلات الصيانة موزعة بين عدة أنظمة ولا توجد رؤية موحدة. ما هو الحل المناسب لتحسين تجربة العملاء؟",
        options: [
            "تعيين موظفين جدد لمتابعة الطلبات يدويًا",
            "تنفيذ نظام ERP لدمج معلومات العملاء وتحسين استجابة فرق الصيانة",
            "زيادة عدد فروع الشركة لحل المشكلة",
            "إلغاء خدمة الصيانة والتركيز على بيع الأجهزة فقط"
        ],
        correct: "تنفيذ نظام ERP لدمج معلومات العملاء وتحسين استجابة فرق الصيانة",
        explanation: "نظام ERP يوحد بيانات العملاء وسجلات الصيانة في منصة مركزية، مما يقلل التأخير في الاستجابة ويعزز كفاءة فرق الصيانة، وبالتالي يحسن تجربة العملاء."
    },
    {
        question: "ما هي البرامج التي تستخدمها الشركات الكبرى أو المتوسطة التي تحتاج إلى إدارة جميع عملياتها بشكل متكامل؟",
        options: [
            "QuickBooks، Tally",
            "SAP، Oracle ERP، Odoo",
            "برنامج المحاسبة",
            "جميع ما سبق"
        ],
        correct: "SAP، Oracle ERP، Odoo",
        explanation: "SAP، Oracle ERP، وOdoo هي أنظمة ERP مصممة لإدارة العمليات المتكاملة في الشركات، بينما QuickBooks وTally تركزان على المحاسبة."
    },
    {
        question: "شركة 'Fresh Foods' تستخدم تقنية البلوك تشين لتتبع المنتجات من المزارع إلى المتاجر. ما هي الفائدة الأساسية لتطبيق تقنية البلوك تشين في هذا السيناريو؟",
        options: [
            "تقليل تكاليف النقل",
            "تحسين الشفافية في سلسلة التوريد",
            "تقليل الحاجة إلى الأجهزة الحديثة",
            "تحسين رضا الموظفين"
        ],
        correct: "تحسين الشفافية في سلسلة التوريد",
        explanation: "البلوك تشين يوفر سجلًا غير قابل للتغيير لتتبع المنتجات، مما يعزز الشفافية وثقة العملاء في جودة المنتجات."
    },
    {
        question: "هيكل لامركزي يهدف إلى رفع كفاءة نقل البيانات وتقليل التكرار فيها، لتصل إلى السحابة لمعالجتها وتخزينها، ويزيد الأمان.",
        options: [
            "حوسبة الحافة",
            "الحوسبة الضبابية",
            "Chat GPT",
            "لا شيء مما سبق"
        ],
        correct: "الحوسبة الضبابية",
        explanation: "الحوسبة الضبابية (Fog Computing) توزع معالجة البيانات بين الأجهزة المحلية والسحابة، مما يقلل التكرار ويعزز الأمان."
    },
    {
        question: "نظام ERP يقلل من كفاءة العمليات التشغيلية ويزيد من تكاليف التشغيل",
        options: [
            "العبارة صحيحة",
            "العبارة خاطئة"
        ],
        correct: "العبارة خاطئة",
        explanation: "نظام ERP يعزز كفاءة العمليات التشغيلية ويقلل التكاليف من خلال توحيد البيانات وأتمتة العمليات."
    },
    {
        question: "يساعد إنترنت الأشياء (IoT) في جمع البيانات في الوقت الفعلي وتحسين إنتاجية المصانع عبر أنظمة ERP",
        options: [
            "العبارة صحيحة",
            "العبارة خاطئة"
        ],
        correct: "العبارة صحيحة",
        explanation: "إنترنت الأشياء يوفر بيانات فورية يمكن دمجها مع ERP لتحسين إنتاجية المصانع واتخاذ قرارات مستنيرة."
    },
    {
        question: "أي من الخيارات التالية يُعتبر مثالًا على برنامج ERP؟",
        options: [
            "QuickBooks",
            "Tally",
            "SAP",
            "Excel"
        ],
        correct: "SAP",
        explanation: "SAP هو نظام ERP متكامل، بينما QuickBooks وTally هما برامج محاسبة، وExcel أداة جداول بيانات."
    },
    {
        question: "لم يكن للحوسبة السحابية أي تأثير على تطور أنظمة ERP",
        options: [
            "العبارة صحيحة",
            "العبارة خاطئة"
        ],
        correct: "العبارة خاطئة",
        explanation: "الحوسبة السحابية حسنت أنظمة ERP من خلال توفير مرونة التخزين، التكلفة المنخفضة، والوصول عن بُعد."
    },
    {
        question: "كيف يساعد نظام ERP في تحسين إدارة سلسلة التوريد؟",
        options: [
            "زيادة العمليات الورقية",
            "تحسين إدارة المخزون وتحليل البيانات",
            "تقليل الشفافية في العمليات",
            "تقليل الدعم الفني للعملاء"
        ],
        correct: "تحسين إدارة المخزون وتحليل البيانات",
        explanation: "نظام ERP يحسن إدارة المخزون ويوفر تحليلات دقيقة للبيانات، مما يعزز كفاءة سلسلة التوريد."
    },
    {
        question: "يتم فيها تأجير البنية الأساسية (Private Cloud).",
        options: [
            "On premises",
            "Cloud",
            "Hosted",
            "كل ما سبق"
        ],
        correct: "Hosted",
        explanation: "التأجير في السحابة الخاصة (Hosted) يشمل استئجار البنية الأساسية من مزودي الخدمات السحابية."
    },
    {
        question: "أي من التطبيقات التالية تُستخدم في أنظمة ERP لدعم إدارة علاقات العملاء؟",
        options: [
            "نظام CRM",
            "نظام SCM",
            "نظام MRP",
            "نظام HRM"
        ],
        correct: "نظام CRM",
        explanation: "نظام CRM (إدارة علاقات العملاء) يدمج مع ERP لتحسين التفاعل مع العملاء وإدارة بياناتهم."
    },
    {
        question: "أي من الفوائد التالية يحققها نظام ERP في مجال المحاسبة؟",
        options: [
            "تحسين تكامل وتوحيد البيانات",
            "تقليل دقة المعلومات المحاسبية",
            "إلغاء الحاجة إلى دعم اتخاذ القرار",
            "يعمل كنظام مستقل دون الحاجة إلى وحدات أخرى"
        ],
        correct: "تحسين تكامل وتوحيد البيانات",
        explanation: "نظام ERP يوحد البيانات المحاسبية، مما يحسن الدقة ويدعم اتخاذ القرارات."
    },
    {
        question: "هو استخدام أنظمة الكمبيوتر لمحاكاة الذكاء البشري لاستخدامه لقواعد البيانات للتوصل إلى استنتاجات وتحسين الذات.",
        options: [
            "إنترنت الأشياء (IoT)",
            "الحوسبة السحابية",
            "الذكاء الصناعي",
            "سلسلة الكتل"
        ],
        correct: "الذكاء الصنعي",
        explanation: "الذكاء الصناعي يحاكي الذكاء البشري لتحليل البيانات وتحسين الأداء بناءً على الخبرات."
    },
    {
        question: "أي من الخيارات التالية لا يُعتبر من الفوائد التي يقدمها نظام ERP؟",
        options: [
            "تحسين دقة وجودة البيانات المالية",
            "تقليل الوقت المستغرق لإعداد التقارير المالية",
            "زيادة احتمالية السلوك الانتهازي من قبل الإدارة",
            "تعزيز التكامل بين مختلف أنظمة المؤسسة"
        ],
        correct: "زيادة احتمالية السلوك الانتهازي من قبل الإدارة",
        explanation: "نظام ERP يقلل من السلوك الانتهازي من خلال زيادة الشفافية وتوحيد البيانات."
    },
    {
        question: "لماذا تحتاج الشركات الكبرى إلى أنظمة ERP بدلاً من برامج المحاسبة؟",
        options: [
            "لأن ERP يساعد في إدارة العمليات المتعددة داخل المؤسسة",
            "لأن الشركات الكبرى لا تحتاج إلى المحاسبة",
            "لأن ERP أرخص من برامج المحاسبة",
            "لأن ERP لا يحتاج إلى تكامل بين الأقسام"
        ],
        correct: "لأن ERP يساعد في إدارة العمليات المتعددة داخل المؤسسة",
        explanation: "ERP يدير العمليات المتعددة (محاسبة، مخزون، موارد بشرية) بشكل متكامل، على عكس برامج المحاسبة."
    },
    {
        question: "ما هو العنصر الرئيسي الذي يميز أنظمة ERP عن الأنظمة التقليدية؟",
        options: [
            "الاعتماد على جداول بيانات منفصلة لكل قسم",
            "استخدام قاعدة بيانات مركزية مشتركة بين جميع الإدارات",
            "العمل دون الحاجة إلى تكامل بين الأقسام",
            "عدم القدرة على التكيف مع التغيرات في المؤسسة"
        ],
        correct: "استخدام قاعدة بيانات مركزية مشتركة بين جميع الإدارات",
        explanation: "نظام ERP يستخدم قاعدة بيانات مركزية لتكامل العمليات، مما يقلل التكرار ويزيد الكفاءة."
    },
    {
        question: "جامعة تُتيح للطلاب الدخول إلى منصة إلكترونية تحتوي على المحاضرات، الاختبارات، والمشاريع، مع إمكانية الوصول إليها من أي مكان. ما هي التقنية المستخدمة؟",
        options: [
            "الذكاء الصناعي (AI)",
            "البلوك تشين (Blockchain)",
            "إنترنت الأشياء (IoT)",
            "الحوسبة السحابية (Cloud Computing)"
        ],
        correct: "الحوسبة السحابية (Cloud Computing)",
        explanation: "الحوسبة السحابية تتيح الوصول إلى المنصات الإلكترونية من أي مكان عبر الإنترنت."
    },
    {
        question: "ما هو نوع أنظمة ERP التي تجمع بين الأنظمة التقليدية والسحابية؟",
        options: [
            "أنظمة ERP التقليدية",
            "أنظمة ERP السحابية",
            "أنظمة ERP الهجينة",
            "جميع ما سبق"
        ],
        correct: "أنظمة ERP الهجينة",
        explanation: "أنظمة ERP الهجينة تجمع بين البنية التقليدية (On-premises) والسحابية لتوفير المرونة."
    },
    {
        question: "تساعد أنظمة ERP في تقليل الازدواجية في تسجيل البيانات وتحليلها",
        options: [
            "العبارة صحيحة",
            "العبارة خاطئة"
        ],
        correct: "العبارة صحيحة",
        explanation: "نظام ERP يقلل الازدواجية من خلال استخدام قاعدة بيانات مركزية لتسجيل وتحليل البيانات."
    },
    {
        question: "مزرعة 'الحقول الخضراء' تعتمد على نظام يحتوي على مستشعرات في التربة لمراقبة الرطوبة والحرارة. ما هي التقنية المستخدمة؟",
        options: [
            "الحوسبة السحابية (Cloud Computing)",
            "البلوك تشين (Blockchain)",
            "إنترنت الأشياء (IoT)",
            "الذكاء الصناعي (AI)"
        ],
        correct: "إنترنت الأشياء (IoT)",
        explanation: "إنترنت الأشياء يستخدم المستشعرات لجمع البيانات في الوقت الفعلي، مثل مراقبة الرطوبة والحرارة."
    },
    {
        question: "عبارة عن استخدام المتصفح للوصول عن بعد إلى البرامج وتخزين البيانات والأجهزة والتطبيقات",
        options: [
            "إنترنت الأشياء (IoT)",
            "الحوسبة السحابية",
            "حوسبة الحافة",
            "الحوسبة الضبابية"
        ],
        correct: "الحوسبة السحابية",
        explanation: "الحوسبة السحابية تتيح الوصول إلى البرامج والبيانات والتطبيقات عبر الإنترنت من خلال المتصفح، مما يوفر مرونة في التخزين والوصول عن بُعد دون الحاجة إلى بنية تحتية محلية."
    },
    {
        question: "هي عملية تقريب معلومات التخزين والقدرات الحاسوبية للجهاز الذي ينتج تلك البيانات والمستخدمين الذين يعملون معها",
        options: [
            "الحوسبة الضبابية",
            "حوسبة الحافة",
            "Chat GPT",
            "الحوسبة السحابية"
        ],
        correct: "حوسبة الحافة",
        explanation: "حوسبة الحافة (Edge Computing) تقرب معالجة البيانات إلى مصدرها (الأجهزة المنتجة للبيانات)، مما يقلل زمن الاستجابة ويحسن الأداء للمستخدمين."
    },
    {
        question: "يشير إلى تضمين أجهزة الاستشعار في العديد من الأجهزة بحيث يمكنها الاتصال بالإنترنت مما يكون لها آثار كبيرة على أمن المعلومات",
        options: [
            "الحوسبة السحابية",
            "حوسبة الحافة",
            "الحوسبة الضبابية",
            "إنترنت الأشياء"
        ],
        correct: "إنترنت الأشياء",
        explanation: "إنترنت الأشياء (IoT) يتضمن توصيل الأجهزة بأجهزة استشعار للاتصال بالإنترنت، مما يثير تحديات أمنية بسبب زيادة نقاط الاتصال."
    },
    {
        question: "هو أحد أهم تطبيقات الذكاء الاصطناعي الحديث يعتبر مصدرًا قويًا للمعلومات والإجابات التلقائية للأسئلة المختلفة",
        options: [
            "البيانات الضخمة",
            "الحوسبة السحابية",
            "Chat GPT",
            "إنترنت الأشياء (IoT)"
        ],
        correct: "Chat GPT",
        explanation: "Chat GPT هو نموذج ذكاء اصطناعي متقدم يوفر إجابات تلقائية ودقيقة للأسئلة بناءً على معالجة اللغة الطبيعية."
    },
    {
        question: "عبارة عن كمية هائلة من البيانات المعقدة التي يفوق حجمها قدرة البرمجيات والآليات الحاسوبية على تخزينها ومعالجتها وتحليلها",
        options: [
            "الحوسبة الضبابية",
            "الحوسبة السحابية",
            "إنترنت الأشياء",
            "البيانات الضخمة"
        ],
        correct: "البيانات الضخمة",
        explanation: "البيانات الضخمة (Big Data) تشير إلى كميات هائلة من البيانات التي تتطلب تقنيات متقدمة لتخزينها ومعالجتها وتحليلها."
    },
    {
        question: "هو استخدام أنظمة الكمبيوتر لمحاكاة الذكاء البشري لاستخدامه لقواعد البيانات للتوصل إلى استنتاجات وتحسين الذات والتعلم من الخبرات السابقة لتحسين قواعدها",
        options: [
            "Chat GPT",
            "الذكاء الاصطناعي",
            "تعلم الآلة (Machine Learning)",
            "التعلم العميق (Deep Learning)"
        ],
        correct: "الذكاء الاصطناعي",
        explanation: "الذكاء الاصطناعي يشمل محاكاة الذكاء البشري لتحليل البيانات، التوصل إلى استنتاجات، والتعلم من الخبرات."
    },
    {
        question: "هو فرع من فروع الذكاء الاصطناعي يركز على إعطاء الأنظمة الحاسوبية القدرة على التعلم وتحسين أدائها من خلال التفاعل مع البيانات",
        options: [
            "الذكاء الاصطناعي",
            "التعلم العميق",
            "تعلم الآلة",
            "الأمن السيبراني"
        ],
        correct: "تعلم الآلة",
        explanation: "تعلم الآلة (Machine Learning) هو فرع من الذكاء الاصطناعي يركز على تطوير أنظمة تتعلم وتحسن أدائها بناءً على البيانات."
    },
    {
        question: "هو نوع من أنواع تعلم الآلة يستند إلى الاستفادة من الشبكات العصبية العميقة",
        options: [
            "الذكاء الاصطناعي",
            "التعلم العميق",
            "تعلم الآلة",
            "الأمن السيبراني"
        ],
        correct: "التعلم العميق",
        explanation: "التعلم العميق (Deep Learning) هو نوع من تعلم الآلة يعتمد على الشبكات العصبية العميقة لمعالجة البيانات المعقدة."
    },
    {
        question: "يتعلق بحماية الأنظمة الحاسوبية والشبكات والبيانات من التهديدات الإلكترونية والهجمات",
        options: [
            "الجرائم المعلوماتية",
            "الأمن السيبراني",
            "الواقع المعزز",
            "الذكاء الاصطناعي"
        ],
        correct: "الأمن السيبراني",
        explanation: "الأمن السيبراني يركز على حماية الأنظمة الحاسوبية والشبكات من الهجمات والتهديدات الإلكترونية."
    },
    {
        question: "تشير إلى الأنشطة غير القانونية التي تستهدف الأنظمة الحاسوبية أو الشبكات أو المعلومات الرقمية",
        options: [
            "الجرائم المعلوماتية",
            "الواقع المعزز",
            "الأمن السيبراني",
            "البيانات الضخمة"
        ],
        correct: "الجرائم المعلوماتية",
        explanation: "الجرائم المعلوماتية تشمل الأنشطة غير القانونية مثل القرصنة والاحتيال الإلكتروني التي تستهدف الأنظمة الرقمية."
    },
    {
        question: "هو نسخة تفاعلية محسنة لبيئة العالم الحقيقي يتم تحقيقها من خلال العناصر المرئية الرقمية والأصوات والمحفزات الحسية الأخرى عبر تقنية التصوير المجسم",
        options: [
            "الواقع المعزز",
            "الجرائم المعلوماتية",
            "البيانات الضخمة",
            "الحوسبة السحابية"
        ],
        correct: "الواقع المعزز",
        explanation: "الواقع المعزز (Augmented Reality) يعزز البيئة الحقيقية بعناصر رقمية تفاعلية باستخدام تقنيات مثل التصوير المجسم."
    },
    {
        question: "من أقسام الإنترنت:",
        options: [
            "الإنترنت السطحي",
            "الإنترنت العميق",
            "الإنترنت المظلم",
            "كل ما سبق"
        ],
        correct: "كل ما سبق",
        explanation: "الإنترنت ينقسم إلى الإنترنت السطحي (المرئي)، الإنترنت العميق (غير مفهرس)، والإنترنت المظلم (يتطلب برامج خاصة)."
    },
    {
        question: "يعد........الجزء الأصغر والأكثر غموضًا من الإنترنت",
        options: [
            "الإنترنت السطحي",
            "الإنترنت العميق",
            "الإنترنت المظلم",
            "لا شيء مما سبق"
        ],
        correct: "الإنترنت المظلم",
        explanation: "الإنترنت المظلم هو الجزء الأصغر والأكثر غموضًا، حيث يتطلب برامج تشفير خاصة مثل Tor للوصول إليه."
    },
    {
        question: "هو الجزء الذي نراه ونستخدمه بشكل يومي من الإنترنت",
        options: [
            "الإنترنت السطحي",
            "الإنترنت العميق",
            "الإنترنت المظلم",
            "لا شيء مما سبق"
        ],
        correct: "الإنترنت السطحي",
        explanation: "الإنترنت السطحي هو الجزء المتاح للجميع ويمكن الوصول إليه عبر محركات البحث مثل Google."
    },
    {
        question: "يشمل هذا الجزء من الإنترنت كل المحتوى الذي لا يمكن الوصول إليه عن طريق محركات البحث التقليدية ولا يعتبر جزءًا مظلمًا أو خطيرًا ولكنه ببساطة ليس مرئيًا للجمهور العام",
        options: [
            "الإنترنت السطحي",
            "الإنترنت العميق",
            "الإنترنت المظلم",
            "لا شيء مما سبق"
        ],
        correct: "الإنترنت العميق",
        explanation: "الإنترنت العميق يشمل محتوى غير مفهرس مثل قواعد البيانات الخاصة، ولكنه ليس خطيرًا مثل الإنترنت المظلم."
    },
    {
        question: "هو الأنشطة الاقتصادية التي تتم خارج نطاق القوانين واللوائح الحكومية",
        options: [
            "الإنترنت المظلم",
            "الاقتصاد الخفي",
            "الأمن السيبراني",
            "الجرائم المعلوماتية"
        ],
        correct: "الاقتصاد الخفي",
        explanation: "الاقتصاد الخفي يشمل الأنشطة الاقتصادية غير القانونية أو غير المسجلة التي تتم خارج الإطار التنظيمي."
    },
    {
        question: "يعتبر هذا الجزء هو الأكثر شهرة والأسهل الوصول إليه من الإنترنت",
        options: [
            "الإنترنت السطحي",
            "الإنترنت العميق",
            "الإنترنت المظلم",
            "لا شيء مما سبق"
        ],
        correct: "الإنترنت السطحي",
        explanation: "الإنترنت السطحي هو الجزء الأكثر شهرة وسهولة في الوصول، حيث يمكن العثور عليه عبر محركات البحث."
    },
    {
        question: "الإنترنت العميق هو الجزء الأصغر والأكثر غموضًا من الإنترنت يتم الوصول إليه عن طريق الشبكات الخاصة تستخدم برامج تشفير قوية",
        options: [
            "صح",
            "خطأ"
        ],
        correct: "خطأ",
        explanation: "الإنترنت العميق ليس الأصغر أو الأكثر غموضًا، بل هو الإنترنت المظلم الذي يتطلب برامج تشفير مثل Tor، بينما الإنترنت العميق يشمل محتوى غير مفهرس ولكنه ليس بالضرورة غامضًا."
    },
    {
        question: "الحوسبة الضبابية هي عبارة عن هيكل مركزي والهدف الأساسي منه العمل على رفع كفاءة نقل البيانات وتقليل التكرار فيها لكي تصل إلى السحابة لمعالجتها وتخزينها",
        options: [
            "صح",
            "خطأ"
        ],
        correct: "خطأ",
        explanation: "الحوسبة الضبابية هي هيكل لامركزي وليس مركزي، حيث توزع معالجة البيانات بين الأجهزة المحلية والسحابة لتحسين الكفاءة والأمان."
    }
];
        let currentQuestion = 0;
        let score = 0;
        let quizFinished = false;
        let userAnswers = [];
        let typingTimeout;

        const startContainer = document.getElementById('startContainer');
        const chatContainer = document.getElementById('chatContainer');
        const resultContainer = document.getElementById('resultContainer');
        const detailedResultContainer = document.getElementById('detailedResultContainer');
        const startButton = document.getElementById('startButton');
        const restartButton = document.getElementById('restartButton');
        const viewDetailedResultsButton = document.getElementById('viewDetailedResultsButton');
        const backToResultsButton = document.getElementById('backToResultsButton');
        const messagesContainer = document.getElementById('messagesContainer');
        const quizProgressBar = document.getElementById('quizProgressBar');
        const quizCounter = document.getElementById('quizCounter');
        const resultEmoji = document.getElementById('resultEmoji');
        const resultTitle = document.getElementById('resultTitle');
        const resultScore = document.getElementById('resultScore');
        const t1 = document.querySelector("audio");

        startButton.addEventListener('click', startQuiz);
        restartButton.addEventListener('click', restartQuiz);
        viewDetailedResultsButton.addEventListener('click', () => showDetailedResults());
        backToResultsButton.addEventListener('click', () => {
            detailedResultContainer.style.display = 'none';
            resultContainer.style.display = 'flex';
        });
        document.querySelector('.header-back').addEventListener('click', goBack);

        document.querySelectorAll('.filter-button').forEach(button => {
            button.addEventListener('click', () => {
                document.querySelectorAll('.filter-button').forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                showDetailedResults(button.dataset.filter);
            });
        });

        function startQuiz() {
            startContainer.style.display = 'none';
            chatContainer.style.display = 'flex';
            currentQuestion = 0;
            score = 0;
            quizFinished = false;
            userAnswers = [];
            t1.src = "./t1.mp3";
            t1.play();
            addBotMessage("مرحباً! 👋\nأنا بوت الاختبارات، سأطرح عليك بعض الأسئلة لاختبار معلوماتك.");

            setTimeout(() => {
                loadQuestion();
            }, 1500);
        }

        function loadQuestion() {
            if (currentQuestion >= quizData.length) {
                showResult();
                return;
            }

            const questionData = quizData[currentQuestion];

            quizProgressBar.style.width = `${((currentQuestion) / quizData.length) * 100}%`;
            quizCounter.textContent = `${currentQuestion + 1} / ${quizData.length}`;

            showTypingIndicator();

            setTimeout(() => {
                hideTypingIndicator();

                const questionElement = document.createElement('div');
                questionElement.className = 'message bot-message quiz-question';
                questionElement.innerHTML = `
                    <div>${questionData.question}</div>
                    <div class="quiz-options" id="options-${currentQuestion}"></div>
                `;

                messagesContainer.appendChild(questionElement);

                const optionsContainer = document.getElementById(`options-${currentQuestion}`);
                questionData.options.forEach((option, index) => {
                    const optionElement = document.createElement('button');
                    optionElement.className = 'quiz-option';
                    optionElement.textContent = option;
                    optionElement.addEventListener('click', () => selectAnswer(option, questionData.correct));
                    optionsContainer.appendChild(optionElement);
                });

                forceScrollToBottom();

                if (currentQuestion + 1 < quizData.length) {
                    t1.src = "./t1.mp3";
                    t1.play();
                    console.log(`السؤال التالي: ${quizData[currentQuestion + 1].question}`);
                }
            }, 1000);
        }

        function selectAnswer(selectedOption, correctAnswer) {
            const isCorrect = selectedOption === correctAnswer;
            const options = document.querySelectorAll(`#options-${currentQuestion} .quiz-option`);

            userAnswers.push({
                question: quizData[currentQuestion].question,
                userAnswer: selectedOption,
                correctAnswer: correctAnswer,
                isCorrect: isCorrect,
                explanation: quizData[currentQuestion].explanation
            });

            options.forEach(option => {
                option.disabled = true;

                if (option.textContent === correctAnswer) {
                    option.classList.add('correct');
                    if (isCorrect) {
                        createConfetti(option);
                        console.log("اجابة صح");
                        t1.src = "./t2.mp3";
                        t1.play();
                    }
                }

                if (option.textContent === selectedOption && !isCorrect) {
                    option.classList.add('wrong');
                    t1.src = "./t3.mp3";
                    t1.play();
                    vibrate();
                }
            });

            if (isCorrect) {
                score++;
            }

            setTimeout(() => {
                currentQuestion++;
                loadQuestion();
            }, 1000);
        }

        function vibrate() {
            if (navigator.vibrate) {
                navigator.vibrate([100, 50, 100]);
            }
        }

        function showResult() {
            chatContainer.style.display = 'none';
            resultContainer.style.display = 'flex';
            quizFinished = true;

            quizProgressBar.style.width = '100%';

            const percentage = (score / quizData.length) * 100;

            if (percentage >= 80) {
                resultEmoji.textContent = '🎉';
                resultTitle.textContent = 'ممتاز!';
                createConfetti(resultContainer, 50);
            } else if (percentage >= 50) {
                resultEmoji.textContent = '👍';
                resultTitle.textContent = 'جيد جداً!';
            } else {
                resultEmoji.textContent = '📚';
                resultTitle.textContent = 'حاول مرة أخرى!';
            }

            resultScore.textContent = `لقد حصلت على ${score} من ${quizData.length}`;
        }

        function showDetailedResults(filter = 'all') {
            resultContainer.style.display = 'none';
            detailedResultContainer.style.display = 'flex';

            const detailedResults = document.getElementById('detailedResults');
            detailedResults.innerHTML = '';

            const correctCount = userAnswers.filter(answer => answer.isCorrect).length;
            const wrongCount = userAnswers.length - correctCount;
            document.getElementById('detailedResultsSummary').textContent = `إجابات صحيحة: ${correctCount} | إجابات خاطئة: ${wrongCount}`;

            userAnswers.forEach(answer => {
                if (filter === 'correct' && !answer.isCorrect) return;
                if (filter === 'wrong' && answer.isCorrect) return;

                const resultItem = document.createElement('div');
                resultItem.className = `detailed-result-item ${answer.isCorrect ? 'correct' : 'wrong'}`;
                resultItem.innerHTML = `
                    <div class="answer-status"></div>
                    <div class="question-text">${answer.question}</div>
                    <div class="user-answer">إجابتك: ${answer.userAnswer}</div>
                    ${!answer.isCorrect ? `<div class="correct-answer">الإجابة الصحيحة: ${answer.correctAnswer}</div>` : ''}
                    <div class="explanation">${answer.explanation}</div>
                `;
                detailedResults.appendChild(resultItem);
            });

            forceScrollToBottomDetailed();
        }

        function restartQuiz() {
            resultContainer.style.display = 'none';
            detailedResultContainer.style.display = 'none';
            startContainer.style.display = 'flex';
            messagesContainer.innerHTML = '';
            userAnswers = [];
        }

        function goBack() {
            window.location.reload()
            if (quizFinished) {
                if (detailedResultContainer.style.display === 'flex') {
                    detailedResultContainer.style.display = 'none';
                    resultContainer.style.display = 'flex';
                } else {
                    resultContainer.style.display = 'none';
                    startContainer.style.display = 'flex';
                }
            } else if (chatContainer.style.display === 'flex') {
                chatContainer.style.display = 'none';
                startContainer.style.display = 'flex';
                messagesContainer.innerHTML = '';
            }
        }

        function addBotMessage(text) {
            const messageElement = document.createElement('div');
            messageElement.className = 'message bot-message';
            messageElement.textContent = text;
            messagesContainer.appendChild(messageElement);
            forceScrollToBottom();
        }

        function showTypingIndicator() {
            clearTimeout(typingTimeout);

            const typingElement = document.createElement('div');
            typingElement.className = 'typing-indicator visible';
            typingElement.id = 'typing-indicator';
            typingElement.innerHTML = `
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            `;

            messagesContainer.appendChild(typingElement);
            forceScrollToBottom();
        }

        function hideTypingIndicator() {
            const typingElement = document.getElementById('typing-indicator');
            if (typingElement) {
                typingElement.classList.remove('visible');
                setTimeout(() => {
                    typingElement.remove();
                }, 300);
            }
        }

        function forceScrollToBottom() {
            const chatContainer = document.getElementById('chatContainer');
            chatContainer.scrollTop = chatContainer.scrollHeight;

            setTimeout(() => {
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }, 50);

            setTimeout(() => {
                chatContainer.scrollTo({
                    top: chatContainer.scrollHeight,
                    behavior: 'smooth'
                });
            }, 100);
        }

        function forceScrollToBottomDetailed() {
            const detailedContainer = document.getElementById('detailedResultContainer');
            detailedContainer.scrollTop = detailedContainer.scrollHeight;

            setTimeout(() => {
                detailedContainer.scrollTop = detailedContainer.scrollHeight;
            }, 50);

            setTimeout(() => {
                detailedContainer.scrollTo({
                    top: detailedContainer.scrollHeight,
                    behavior: 'smooth'
                });
            }, 100);
        }

        function createConfetti(element, count = 30) {
            const rect = element.getBoundingClientRect();
            const colors = ['#f44336', '#e91e63', '#9c27b0', '#673ab7', '#3f51b5', '#2196f3', '#03a9f4', '#00bcd4', '#009688', '#4CAF50', '#8BC34A', '#CDDC39', '#FFEB3B', '#FFC107', '#FF9800', '#FF5722'];

            for (let i = 0; i < count; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = `${rect.left + Math.random() * rect.width}px`;
                confetti.style.top = `${rect.top}px`;
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.width = `${Math.random() * 0.5 + 0.25}rem`;
                confetti.style.height = `${Math.random() * 0.5 + 0.25}rem`;
                confetti.style.animationDuration = `${Math.random() * 2 + 2}s`;

                document.body.appendChild(confetti);

                setTimeout(() => {
                    confetti.remove();
                }, 3000);
            }
        }

        window.addEventListener('resize', () => {
            forceScrollToBottom();
            forceScrollToBottomDetailed();
        });
    </script>
</body>
</html>
